webpackJsonp([1],{NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=a("VU/8")({name:"App"},r,!1,function(t){a("Wajd")},null,null).exports,i=a("zL8q"),o=a.n(i),l=(a("tvR6"),a("K/Lq")),d=a.n(l),u=a("/ocq"),c=a("mvHQ"),h=a.n(c),p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-menu",{attrs:{"default-active":"1"}},[a("el-menu-item",{attrs:{index:"1"},on:{click:function(e){return t.changeMainTab(1)}}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("处室负责人")])]),t._v(" "),a("el-menu-item",{attrs:{index:"2"},on:{click:function(e){return t.changeMainTab(2)}}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("分管处室工作人员")])]),t._v(" "),a("el-menu-item",{attrs:{index:"3"},on:{click:function(e){return t.changeMainTab(3)}}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("其他处室工作人员")])])],1)],1)},staticRenderFns:[]},f=a("VU/8")({data:function(){return{}},methods:{changeMainTab:function(t){this.$store.commit("updateMainTab",t)}}},p,!1,null,null,null).exports,m={data:function(){return{zeroCount:0,data:[]}},props:{users:{type:Array,value:[]}},mounted:function(){},methods:{onChange:function(t,e){0==this.data[t]&&(this.zeroCount<Math.ceil(.4*this.users.length)?this.zeroCount++:(this.$message('小组评测结果为"好"的人员最多占该小组人数的40%，请重新评测！'),this.$set(this.data,t,-1)))},check:function(){return!(this.data.length<this.users.length||this.data.indexOf(-1)>-1)||(this.$message("处室负责人还有人员等待评测，请评测完成后点击提交！"),!1)}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("处室负责人")]),t._v(" "),a("div",t._l(t.users,function(e,n){return a("el-card",{key:n},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(n+1)+"."+t._s(e.lastname))]),t._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-link",{staticStyle:{"margin-right":"10px"},attrs:{icon:"el-icon-paperclip",href:"./static/"+t.$store.state.pdfPrefix1+e.lastname+".pdf",target:"_blank"}},[t._v(t._s(t.$store.state.pdfPrefix1+e.lastname)+".pdf")]),t._v(" "),a("el-link",{attrs:{icon:"el-icon-paperclip",href:"./static/"+t.$store.state.pdfPrefix2+e.lastname+".pdf",target:"_blank"}},[t._v(t._s(t.$store.state.pdfPrefix2+e.lastname)+".pdf")])],1)]),t._v(" "),a("div",[a("el-radio-group",{on:{change:function(a){return t.onChange(n,e.id)}},model:{value:t.data[n],callback:function(e){t.$set(t.data,n,e)},expression:"data[index]"}},[a("el-radio",{attrs:{label:0}},[t._v("好")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("较好")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("一般")]),t._v(" "),a("el-radio",{attrs:{label:3}},[t._v("较差")])],1)],1)])}),1)])},staticRenderFns:[]},g=a("VU/8")(m,v,!1,null,null,null).exports,_={data:function(){return{zeroCount:0,data:[]}},props:{users:{type:Array,value:[]}},methods:{onChange:function(t,e){0==this.data[t]&&(this.zeroCount<Math.ceil(.4*this.users.length)?this.zeroCount++:(this.$message('小组评测结果为"好"的人员最多占该小组人数的40%，请重新评测！'),this.$set(this.data,t,-1)))},check:function(){return!(this.data.length<this.users.length||this.data.indexOf(-1)>-1)||(this.$message("处室工作人员还有人员等待评测，请评测完成后点击提交！"),!1)}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("处室工作人员")]),t._v(" "),a("div",t._l(t.users,function(e,n){return a("el-card",{key:e.id},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(n+1)+"."+t._s(e.lastname))]),t._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-link",{staticStyle:{"margin-right":"10px"},attrs:{icon:"el-icon-paperclip",href:"./static/"+t.$store.state.pdfPrefix1+e.lastname+".pdf",target:"_blank"}},[t._v(t._s(t.$store.state.pdfPrefix1+e.lastname)+".pdf")]),t._v(" "),a("el-link",{attrs:{icon:"el-icon-paperclip",href:"./static/"+t.$store.state.pdfPrefix2+e.lastname+".pdf",target:"_blank"}},[t._v(t._s(t.$store.state.pdfPrefix2+e.lastname)+".pdf")])],1)]),t._v(" "),a("div",[a("el-radio-group",{on:{change:function(a){return t.onChange(n,e.id)}},model:{value:t.data[n],callback:function(e){t.$set(t.data,n,e)},expression:"data[index]"}},[a("el-radio",{attrs:{label:0}},[t._v("好")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("较好")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("一般")]),t._v(" "),a("el-radio",{attrs:{label:3}},[t._v("较差")])],1)],1)])}),1)])},staticRenderFns:[]},$=a("VU/8")(_,b,!1,null,null,null).exports,M={data:function(){return{zeroCount:0,data:[]}},props:{users:{type:Array,value:[]}},methods:{onChange:function(t,e){0==this.data[t]&&(this.zeroCount<Math.ceil(.4*this.users.length)?this.zeroCount++:(this.$message('小组评测结果为"好"的人员最多占该小组人数的40%，请重新评测！'),this.$set(this.data,t,-1)))},check:function(){return!(this.data.length<this.users.length||this.data.indexOf(-1)>-1)||(this.$message("其他处室工作人员还有人员等待评测，请评测完成后点击提交！"),!1)}}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("其他处室工作人员")]),t._v(" "),a("div",t._l(t.users,function(e,n){return a("el-card",{key:e.id},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(n+1)+"."+t._s(e.lastname))]),t._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-link",{staticStyle:{"margin-right":"10px"},attrs:{icon:"el-icon-paperclip",href:"./static/"+t.$store.state.pdfPrefix1+e.lastname+".pdf",target:"_blank"}},[t._v(t._s(t.$store.state.pdfPrefix1+e.lastname)+".pdf")]),t._v(" "),a("el-link",{attrs:{icon:"el-icon-paperclip",href:"./static/"+t.$store.state.pdfPrefix2+e.lastname+".pdf",target:"_blank"}},[t._v(t._s(t.$store.state.pdfPrefix2+e.lastname)+".pdf")])],1)]),t._v(" "),a("div",[a("el-radio-group",{on:{change:function(a){return t.onChange(n,e.id)}},model:{value:t.data[n],callback:function(e){t.$set(t.data,n,e)},expression:"data[index]"}},[a("el-radio",{attrs:{label:0}},[t._v("好")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("较好")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("一般")]),t._v(" "),a("el-radio",{attrs:{label:3}},[t._v("较差")])],1)],1)])}),1)])},staticRenderFns:[]},k=a("VU/8")(M,x,!1,null,null,null).exports,w={data:function(){return{}},computed:{mainTab:{get:function(){return this.$store.state.mainTab},set:function(t){this.$store.commit("updateMainTab",t)}}},components:{OrgManager:g,OrgMember:$,OtherOrgMember:k}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[1==this.mainTab?e("org-manager"):2==this.mainTab?e("org-member"):3==this.mainTab?e("other-org-member"):this._e()],1)},staticRenderFns:[]},y={components:{AssessGroup:f,AssessMain:a("VU/8")(w,T,!1,null,null,null).exports,OrgManager:g,OrgMember:$,OtherOrgMember:k},data:function(){return{resource:{},managers:[],ownMembers:[],otherMembers:[],userId:"",dlgText:"",submiting:!1,showDlg:!1}},created:function(){var t=this,e=new RegExp("(^id)=([^&]*)(&|$)"),a=window.location.search.substr(1).match(e);null!=a&&(this.userId=unescape(a[2]),this.$http({url:this.$http.adornUrl("resource/getresourcebyid"),data:this.$http.adornData({id:this.userId}),method:"post"}).then(function(e){t.resource=e.data.data.resource,t.managers=e.data.data.managers,t.ownMembers=e.data.data.ownMembers,t.otherMembers=e.data.data.otherMembers}).catch(function(t){console.log("fail"),console.log(t)}))},methods:{onSubmit:function(){if(this.submiting)return this.dlgText="正在提交，请勿重复操作",void(this.showDlg=!0);this.submiting=!0;var t=this;if(this.$refs.orgManager.check()&&this.$refs.orgMember.check()&&this.$refs.otherOrgMember.check()){var e=this.parseData(this.managers,this.$refs.orgManager.data).concat(this.parseData(this.ownMembers,this.$refs.orgMember.data)).concat(this.parseData(this.otherMembers,this.$refs.otherOrgMember.data));this.$http({url:this.$http.adornUrl("assess/save"),data:this.$http.adornData({assessId:this.resource.id,result:h()(e)}),method:"post"}).then(function(e){console.log(e),t.submiting=!1,t.dlgText="提交成功！",t.showDlg=!0}).catch(function(t){console.log("failed")})}},parseData:function(t,e){if(t.length==e.length){for(var a=[],n=0;n<t.length;n++)a.push({userId:t[n].id,data:e[n]});return a}},onSure:function(){this.showDlg=!1,this.submiting||(window.opener=null,window.close())}},mounted:function(){}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("el-container",[a("el-header",[a("h1",[t._v("公务员测评系统")]),t._v(" "),a("div",[a("el-radio-group",{attrs:{disabled:!0}},[a("el-radio",[a("label",[t._v("好")]),a("span",[t._v("（全部工作质量都能达到要求）")])]),t._v(" "),a("el-radio",[a("label",[t._v("较好")]),a("span",[t._v("（工作质量整体令人满意，极少出现问题）")])]),t._v(" "),a("el-radio",[a("label",[t._v("一般")]),a("span",[t._v("（工作质量基本令人满意，偶尔出现问题）")])]),t._v(" "),a("el-radio",[a("label",[t._v("差")]),a("span",[t._v("（工作质量不很让人放心，时常出现问题）")])])],1)],1)]),t._v(" "),a("el-main",[t.managers.length>0?a("org-manager",{ref:"orgManager",attrs:{users:t.managers}}):t._e(),t._v(" "),t.ownMembers.length>0?a("org-member",{ref:"orgMember",attrs:{users:t.ownMembers}}):t._e(),t._v(" "),t.otherMembers.length>0?a("other-org-member",{ref:"otherOrgMember",attrs:{users:t.otherMembers}}):t._e()],1),t._v(" "),a("el-footer",[a("el-button",{on:{click:t.onSubmit}},[t._v("提交")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.showDlg}},[a("span",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.dlgText))]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSure}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var O=a("VU/8")(y,C,!1,function(t){a("Zm2G")},null,null).exports;n.default.use(u.a);var P=new u.a({routes:[{path:"/",name:"Main",props:function(t){return{id:121}},component:O},{path:"/orgManager",name:"orgManager",component:g},{path:"/orgMember",name:"orgMember",component:g},{path:"/otherOrgMember",name:"otherOrgMember",component:k}]}),D=a("NYxO");n.default.use(D.a);var S=new D.a.Store({state:{mainTab:1,pdfPrefix1:"2020年度公务员平时考核指标（个性指标部分）-",pdfPrefix2:"第三季度工作总结-"},mutations:{updateMainTab:function(t,e){t.mainTab=e}}}),U=a("//Fk"),F=a.n(U),z=a("mtWM"),R=a.n(z),j=a("mw3O"),E=a.n(j),A=a("HN2V"),V=a.n(A),I=R.a.create({timeout:3e4,withCredentials:!0,headers:{"Content-Type":"application/json; charset=UTF-8"}});I.interceptors.request.use(function(t){return t.headers.token=n.default.cookie.get("token"),t.headers["Content-Type"]="application/json; charset=UTF-8",t},function(t){return F.a.reject(t)}),I.interceptors.response.use(function(t){return t.data&&401===t.data.code&&P.push({name:"login"}),t},function(t){return F.a.reject(t)}),I.adornUrl=function(t){return window.SITE_CONFIG.baseUrl+t},I.adornParams=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a={t:(new Date).getTime()};return e?V()(a,t):t},I.adornData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"json",n={t:(new Date).getTime()};return t=e?V()(n,t):t,"json"===a?h()(t):E.a.stringify(t)};var N=I,q=a("7t+N"),G=a.n(q);n.default.use(d.a),n.default.use(o.a),n.default.config.productionTip=!1,n.default.prototype.$http=N,new n.default({el:"#app",router:P,store:S,$:G.a,components:{App:s},template:"<App/>"})},Wajd:function(t,e){},Zm2G:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.53633fc9767aa483b6fb.js.map